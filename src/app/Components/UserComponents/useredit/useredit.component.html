<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <div class="iq-card">

                <div class="iq-card-header d-flex justify-content-between">
                    <div class="iq-header-title">
                        <h4 class="card-title">Edit User</h4>
                    </div>
                </div>

                <div class="iq-card-body">
                    <form [formGroup]='userForm' (ngSubmit)='EditUser()'>

                        <div class="row">

                            <div class="col-lg-12">

                                <div class="row">

                                    <div class="col-6 form-group">
                                        <app-input PlaceHolder='E-mail' [Control]="userForm.get('email')"></app-input>
                                    </div>

                                    <div class="col-6 form-group">
                                        <app-input PlaceHolder='Username' [Control]="userForm.get('userName')">
                                        </app-input>
                                    </div>

                                    <div class="col-6 form-group">
                                        <app-input PlaceHolder='First Name' [Control]="userForm.get('firstName')">
                                        </app-input>
                                    </div>

                                    <div class="col-6 form-group">
                                        <app-input PlaceHolder='Last Name' [Control]="userForm.get('lastName')">
                                        </app-input>
                                    </div>


                                    <div class="col-6 form-group">
                                        <label for="role">Role</label>
                                        <select formControlName='role' class="form-control" [ngClass]="{'is-invalid':userForm.controls.role.errors &&
                               (userForm.controls.role.touched || userForm.controls.role.dirty)}">
                                            <option selected disabled="">Role</option>
                                            <option [ngValue]='role.Id' *ngFor="let role of roles">
                                                {{role.Name}}</option>
                                        </select>
                                        <ng-container *ngIf="userForm.controls.role.errors">
                                            <div *ngIf="userForm.controls.role.errors.required"
                                                class="invalid-feedback">
                                                Value is required.
                                            </div>
                                        </ng-container>
                                    </div>

                                    <div class="col-6 form-group">
                                        <label for="dateOfBirth">Date of Birth</label>
                                        <input [ngClass]="{'is-invalid':userForm.controls.dateOfBirth.errors &&
                             (userForm.controls.dateOfBirth.touched || userForm.controls.dateOfBirth.dirty)}"
                                            formControlName="dateOfBirth" type="date" class="form-control"
                                            placeholder="Release Date">
                                        <ng-container *ngIf="userForm.controls.dateOfBirth.errors">
                                            <div *ngIf="userForm.controls.dateOfBirth.errors.required"
                                                class="invalid-feedback">
                                                Value is required.
                                            </div>
                                            <div *ngIf="userForm.controls.dateOfBirth.errors.min"
                                                class="invalid-feedback">
                                                Dude what the fuck? {{userForm.controls.dateOfBirth.errors.min.actual}}
                                                ?
                                                Seriously?
                                            </div>
                                            <div *ngIf="userForm.controls.dateOfBirth.errors.max"
                                                class="invalid-feedback">
                                                Dude what the fuck? {{userForm.controls.dateOfBirth.errors.max.actual}}
                                                ?
                                                Seriously?
                                            </div>
                                        </ng-container>
                                    </div>

                                    <div class="col-12 form_gallery form-group">
                                        <app-upload></app-upload>
                                    </div>

                                </div>

                            </div>

                                <div class="col-sm-12 form-group">
                                    <div *ngIf="userForm.invalid" class="text-primary mt-5">
                                        <small>
                                            <i class="las la-image"></i>
                                            Image size can't be over 4<span style="font-size: 80%;">mb</span>.
                                        </small>
                                    </div>
                                </div>

                                <div class="col-sm-12 form-group">
                                    <button [disabled]='userForm.invalid' type="submit"
                                        [ngClass]="{'btn-danger':userForm.invalid}" class="btn btn-primary m-2">Save
                                        Changes
                                    </button>
                                    <button routerLink='/Users' type="button"
                                        class="btn btn-danger m-2 card-link">Cancel</button>
                                </div>
                            </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Edit Alert-->
<div *ngIf="isEdited" class="alert alert-success alert-dismissible fade show" role="alert">
    <strong>Success!&nbsp;</strong>Developer successfully edited.
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
       <span aria-hidden="true">&times;</span>
    </button>
 </div>


<div>Form Contents:{{userForm.value|json}}</div>
<div>Form Contents:{{userForm.valid}}</div>
<div>Errors arround First Name:{{userForm.controls.role.errors|json}}</div>